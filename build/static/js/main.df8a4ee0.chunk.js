(window["webpackJsonpshop-app"]=window["webpackJsonpshop-app"]||[]).push([[0],{44:function(e,t,n){e.exports=n(64)},53:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),o=n.n(c),l=n(5),i=n(14),u=n(13),s=n(37),m=n(9),p=n(15);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function(e,t){if(void 0===e)return{products:[],loading:!0,error:null};switch(t.type){case"FETCH_ITEMS_REQUEST":return{products:[],loading:!0,error:null};case"FETCH_ITEMS_SUCCESS":return{products:t.payload,loading:!1,error:null};case"FETCH_ITEMS_ERROR":return{products:[],loading:!1,error:t.payload};case"PRODUCT_ADDED_TO_LIST":var n=f({id:Math.floor(1e5*Math.random()+5),visible:!0},t.payload);return f({},e.productList,{products:[].concat(Object(m.a)(e.productList.products),[n])});default:return e.productList}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(e,t,n){return 0===t.count?[].concat(Object(m.a)(e.slice(0,n)),Object(m.a)(e.slice(n+1))):-1===n?[].concat(Object(m.a)(e),[t]):[].concat(Object(m.a)(e.slice(0,n)),[t],Object(m.a)(e.slice(n+1)))},O=function(e,t,n){var r=e.productList.products,a=e.cart.cartItems,c=r.find(function(e){return e.id===t}),o=a.findIndex(function(e){return e.id===t}),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.id,a=void 0===r?e.id:r,c=t.count,o=void 0===c?0:c,l=t.price,i=void 0===l?e.price:l,u=t.name,s=void 0===u?e.name:u,m=t.total,p=void 0===m?0:m;return{id:a,name:s,price:i,count:o+n,total:p+n*e.price}}(c,a[o],n);return h({},e.cart,{totalPrice:e.cart.totalPrice+l.price*n,totalCount:e.cart.totalCount+n,cartItems:v(a,l,o)})},g=function(e,t){if(void 0===e)return{cartItems:[{id:1,name:"Secrets Of The JavaScript Ninja",count:1,price:45,total:45}],totalPrice:45,totalCount:1};switch(t.type){case"ITEM_ADDED_TO_CART":return O(e,t.payload,1);case"ITEM_REMOVED_FROM_CART":return O(e,t.payload,-1);case"ITEMS_REMOVED_FROM_CART":var n=e.cart.cartItems.find(function(e){return e.id===t.payload});return O(e,t.payload,-n.count);case"CLEAR_CART":return h({},e.cart,{cartItems:[],totalPrice:0,totalCount:0});default:return e.cart}},y=function(e,t){if(void 0===e)return{alerts:[]};switch(t.type){case"SHOW_ALERT":return{alerts:[].concat(Object(m.a)(e.alertList.alerts),[t.payload])};case"HIDE_ALERT":var n=e.alertList.alerts.findIndex(function(e){return e.id===t.payload.id});return{alerts:[].concat(Object(m.a)(e.alertList.alerts.slice(0,n)),Object(m.a)(e.alertList.alerts.slice(n+1)))};default:return e.alertList}},j=function(e,t){return{productList:E(e,t),cart:g(e,t),alertList:y(e,t)}},C=Object(u.d)(j,Object(u.a)(s.a)),P=n(16),T=a.a.createContext(),I=T.Provider,w=T.Consumer,S=n(23),_=n(26),N=n(24),A=n(27),D=(n(53),function(){return a.a.createElement("div",{className:"card card-default"},a.a.createElement("h1",{className:"text-danger"},"Oops, some error has occurred"))}),R=function(e){function t(){var e;return Object(P.a)(this,t),(e=Object(_.a)(this,Object(N.a)(t).call(this))).state={hasError:!1},e}return Object(A.a)(t,e),Object(S.a)(t,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.state.hasError?a.a.createElement(D,null):this.props.children;return a.a.createElement("div",null,e)}}]),t}(r.Component),L=n(12),k=n(68),M=(n(54),Object(l.b)(function(e){var t=e.cart;return{totalCount:t.totalCount,totalPrice:t.totalPrice}})(function(e){var t=e.totalCount,n=e.totalPrice,r=1===t?"item":"items";return a.a.createElement("header",{className:"app-header"},a.a.createElement("div",{className:"app-header-container"},a.a.createElement("div",{className:"app-logo"},a.a.createElement(i.b,{to:"/"},"Shop App")),a.a.createElement("nav",{className:"app-nav"},a.a.createElement(i.b,{to:"/cart"},a.a.createElement("i",{className:"fa fa-shopping-cart"}),"Cart",a.a.createElement("span",{className:"text-success"},function(){if(!t||!n)return null;var e=" ".concat(t," ").concat(r," ($").concat(n,")");return a.a.createElement("span",{className:"text-success"},e)}())),a.a.createElement(i.b,{to:"/create-item"},a.a.createElement("strong",null,"+")," New Item"))))})),x=(n(56),Object(l.b)(function(e){return{alerts:e.alertList.alerts}})(function(e){var t=e.alerts;return a.a.createElement("ul",{className:"alerts list-unstyled"},t.map(function(e){return a.a.createElement("li",{key:e.id,className:"alert alert-success"},a.a.createElement("strong",null,e.text))}))})),F=n(32),J=n.n(F),H=n(39),U=n(17),Y=n(69),q=function(e){return{type:"ITEM_ADDED_TO_CART",payload:e}},z=0,G=(n(58),function(e){return new Promise(function(t){return setTimeout(t,e)})}),V={addProduct:function(e){return{type:"PRODUCT_ADDED_TO_LIST",payload:e}},showAlert:function(e){return function(t){var n=z++;t(function(e,t){return{type:"SHOW_ALERT",payload:{id:e,text:t}}}(n,e)),setTimeout(function(){t(function(e){return{type:"HIDE_ALERT",payload:{id:e}}}(n))},3e3)}}},$=Object(l.b)(null,V)(function(e){var t=e.addProduct,n=e.showAlert,r=function(){var e=Object(H.a)(J.a.mark(function e(r){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(300);case 2:t(r),n("New item was successfully added!");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(U.b,{onSubmit:r,validate:function(e){var t="This field is required",n={};return e.name||(n.name=t),e.description||(n.description=t),e.price||(n.price=t),n},render:function(e){var t=e.handleSubmit,n=e.form,r=e.submitting;e.pristine,e.values;return a.a.createElement("form",{onSubmit:function(e){var r=t(e);r&&r.then(function(){return setTimeout(n.reset)})}},a.a.createElement(U.a,{name:"name"},function(e){var t=e.input,n=e.meta;return a.a.createElement(Y.a.Group,{controlId:"product-name"},a.a.createElement(Y.a.Label,null,"Name:"),a.a.createElement(Y.a.Control,Object.assign({},t,{type:"text",placeholder:"Name",isInvalid:n.error&&n.touched})),n.error&&n.touched&&a.a.createElement("span",{className:"text-danger"},n.error))}),a.a.createElement(U.a,{name:"description"},function(e){var t=e.input,n=e.meta;return a.a.createElement(Y.a.Group,{controlId:"product-description"},a.a.createElement(Y.a.Label,null,"Description:"),a.a.createElement(Y.a.Control,Object.assign({as:"textarea"},t,{placeholder:"Description",rows:"5",isInvalid:n.error&&n.touched})),n.error&&n.touched&&a.a.createElement("span",{className:"text-danger"},n.error))}),a.a.createElement(U.a,{name:"price"},function(e){var t=e.input,n=e.meta;return a.a.createElement(Y.a.Group,{controlId:"product-price"},a.a.createElement(Y.a.Label,null,"Price:"),a.a.createElement(Y.a.Control,Object.assign({},t,{type:"number",placeholder:"Price",isInvalid:n.error&&n.touched})),n.error&&n.touched&&a.a.createElement("span",{className:"text-danger"},n.error))}),a.a.createElement(U.a,{name:"img"},function(e){var t=e.input,n=e.meta;return a.a.createElement(Y.a.Group,{controlId:"product-image"},a.a.createElement(Y.a.Label,null,"Image Link:"),a.a.createElement(Y.a.Control,Object.assign({},t,{type:"text",placeholder:"Image",isInvalid:n.error&&n.touched})),n.error&&n.touched&&a.a.createElement("span",{className:"text-danger"},n.error))}),a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-success float-right",type:"submit",disabled:r},"Add")))}})}),B=n(65),Q=n(42),X=(n(59),function(){return a.a.createElement("div",{className:"spinner"},"Loading...")}),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return function(t){return function(n){return a.a.createElement(w,null,function(r){var c=e(r);return a.a.createElement(t,Object.assign({},n,c))})}}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K=function(e){function t(){return Object(P.a)(this,t),Object(_.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loading,n=e.getAllProducts;t&&n()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.error;return t?a.a.createElement(X,null):n?a.a.createElement(D,null):a.a.cloneElement(this.props.children,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))}}]),t}(r.Component),ee=Object(u.c)(W(function(e){return{getAllProductsFromService:e.getAllProducts}}),Object(l.b)(function(e){var t=e.productList;return{loading:t.loading,error:t.error}},function(e,t){return{getAllProducts:function(){e({type:"FETCH_ITEMS_REQUEST"}),t.getAllProductsFromService().then(function(t){return e({type:"FETCH_ITEMS_SUCCESS",payload:t})}).catch(function(t){return e({type:"FETCH_ITEMS_ERROR",payload:t})})}}}))(K),te=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Add New Product"),a.a.createElement(B.a,{className:"mt-4"},a.a.createElement(Q.a,{md:{span:6,offset:3}},a.a.createElement(ee,null,a.a.createElement($,null)))))},ne=n(66),re=(n(60),function(e){var t=e.product,n=e.onAddedToCart,r=t.name,c=t.description,o=t.price,l=t.img,i=void 0===l?"http://keivconnect.com/static/images/logo3.png":l;return a.a.createElement(ne.a,{className:"products-list-item"},a.a.createElement("img",{width:100,height:150,src:i,alt:"Product: ".concat(r),className:"mr-3"}),a.a.createElement(ne.a.Body,null,a.a.createElement("h5",null,r,a.a.createElement("span",{className:"text-primary"}," ($",o,")")),a.a.createElement("p",null,c),a.a.createElement("button",{onClick:n,className:"btn btn-outline-primary"},"Add To Cart")))}),ae=n(43),ce=(n(61),Object(ae.a)([function(e){return e.productList.products}],function(e){return e.filter(function(e){return e.visible})})),oe=Object(l.b)(function(e){return{products:ce(e)}},function(e){return{onAddedToCart:function(t){e(q(t))}}})(function(e){var t=e.products,n=e.onAddedToCart;return a.a.createElement(B.a,{as:"ul",className:"list-unstyled mt-3"},t.map(function(e){return a.a.createElement(Q.a,{as:"li",lg:6,className:"mt-5 pl-4",key:e.id},a.a.createElement(re,{onAddedToCart:function(){return n(e.id)},product:e}))}))}),le=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Item List"),a.a.createElement(ee,null,a.a.createElement(oe,null)))},ie=(n(62),n(67)),ue={onDecrease:function(e){return{type:"ITEM_REMOVED_FROM_CART",payload:e}},onIncrease:q,onDelete:function(e){return{type:"ITEMS_REMOVED_FROM_CART",payload:e}},onCartCleared:function(){return{type:"CLEAR_CART"}}},se=Object(l.b)(function(e){var t=e.cart;return{cartItems:t.cartItems,totalPrice:t.totalPrice}},ue)(function(e){var t=e.cartItems,n=e.totalPrice,r=e.onDecrease,c=e.onIncrease,o=e.onDelete,l=e.onCartCleared;e.showAlert;return a.a.createElement("div",{className:"cart-table mt-5"},a.a.createElement(ie.a,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"#"),a.a.createElement("th",null,"Item"),a.a.createElement("th",null,"Count"),a.a.createElement("th",null,"Total"),a.a.createElement("th",null,"Action"))),a.a.createElement("tbody",null,t.map(function(e,t){var n=e.id,l=e.name,i=e.count,u=e.total;return a.a.createElement("tr",{key:n},a.a.createElement("td",null,t+1),a.a.createElement("td",null,l),a.a.createElement("td",null,i),a.a.createElement("td",null,"$",u),a.a.createElement("td",null,a.a.createElement("div",{className:"pull-right"},a.a.createElement("button",{onClick:function(){return r(n)},className:"btn btn-outline-warning btn-sm"},a.a.createElement("i",{className:"fa fa-minus-circle"})),a.a.createElement("button",{onClick:function(){return c(n)},className:"btn btn-outline-success btn-sm"},a.a.createElement("i",{className:"fa fa-plus-circle"})),a.a.createElement("button",{onClick:function(){return o(n)},className:"btn btn-outline-danger btn-sm"},a.a.createElement("i",{className:"fa fa-trash"})))))}))),a.a.createElement("div",{className:"total"},"Total Price: $",n),a.a.createElement("button",{onClick:function(){window.confirm("Are you sure you want to buy these items?")&&l()},className:"btn btn-success mt-4 float-right"},"Checkout"))}),me=Object(l.b)(function(e){return{cartItems:e.cart.cartItems}})(function(e){var t=e.cartItems.length?a.a.createElement(ee,null,a.a.createElement(se,null)):a.a.createElement("h5",null,"Your cart is empty...");return a.a.createElement("div",null,a.a.createElement("h1",{className:"mb-4"},"Cart"),t)}),pe=(n(63),function(){return a.a.createElement(r.Fragment,null,a.a.createElement(M,null),a.a.createElement("main",null,a.a.createElement(k.a,null,a.a.createElement(L.c,null,a.a.createElement(L.a,{path:"/",exact:!0,component:le}),a.a.createElement(L.a,{path:"/create-item",component:te}),a.a.createElement(L.a,{path:"/cart",component:me})),a.a.createElement(x,null))))}),de=new function e(){var t=this;Object(P.a)(this,e),this.data=[{id:1,name:"Secrets Of The JavaScript Ninja",description:"Secrets of the JavaScript Ninja leads you down the pathway to JavaScript enlightenment.",price:45,visible:!0,img:"https://images-na.ssl-images-amazon.com/images/I/51UYwOhvQPL._AC_SY400_.jpg"},{id:2,name:"Functional Programming in JavaScript",description:"Functional Programming in JavaScript teaches JavaScript developers functional techniques that will improve extensibility, modularity, reusability, testability, and performance.",price:35,visible:!0,img:"https://apollo-ireland.akamaized.net/v1/files/o28l7m8pjb4q2-UA/image;s=644x461"},{id:3,name:"Eloquent JavaScript",description:"This is a book about JavaScript, programming, and the wonders of the digital.You can read it online here, or get your own paperback copy.",price:49,visible:!0,img:"https://images-na.ssl-images-amazon.com/images/I/51-5ZXYtcML._SX377_BO1,204,203,200_.jpg"},{id:4,name:"JavaScript for Kids",description:"A Playful Introduction to Programming.",price:19,visible:!0,img:"https://images-na.ssl-images-amazon.com/images/I/51tcu2bj86L._SX260_.jpg"},{id:5,name:"Invisible fake book",description:"FOR RESELECT MEMOIZATION",price:0,visible:!1}],this.getAllProducts=function(){return new Promise(function(e,n){setTimeout(function(){e(t.data)},800)})}};o.a.render(a.a.createElement(l.a,{store:C},a.a.createElement(R,null,a.a.createElement(I,{value:de},a.a.createElement(i.a,null,a.a.createElement(pe,null))))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.df8a4ee0.chunk.js.map